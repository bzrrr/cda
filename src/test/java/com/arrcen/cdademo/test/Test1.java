package com.arrcen.cdademo.test;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.arrcen.cdademo.dao.PatientCdaDocumentDao;
import com.arrcen.cdademo.pojo.PatientCdaDocument;
import com.arrcen.cdademo.service.impl.display.DisplayService01;
import com.arrcen.cdademo.util.FastDFSClientWrapper;
import com.google.common.collect.HashBasedTable;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
import springfox.documentation.spring.web.json.Json;

import java.io.IOException;
import java.util.Map;


@RunWith(SpringRunner.class)
@SpringBootTest
public class Test1 {
	@Autowired
	FastDFSClientWrapper fastDFSClientWrapper;
	@Autowired
	DisplayService01 service01;
	@Autowired
	PatientCdaDocumentDao patientCdaDocumentDao;

	@Test
	public void test() {
		HashBasedTable<Object, Object, Object> temMap = HashBasedTable.create();
		temMap.put("1", "property", "建档日期时间");
		System.out.println(temMap.get("1", "property"));
	}

	@Test
	public void test2() {
		try {
			byte[] bytes = fastDFSClientWrapper.downloadFile("http://192.168.21.135:80/group1/M00/00/01/wKgVh11FWNmAQcX2AABOs9tol1Y782.xml");

			System.out.println(new String(bytes));
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	@Test
	public void test3() {

		PatientCdaDocument patientCdaDocument = patientCdaDocumentDao.getOne("1");
		Map<String, Object> info = service01.getInfo(patientCdaDocument);
//		System.out.println(info);
		String infoJson = JSON.toJSONString(info,true);
		System.out.println(infoJson);
	}

	@Test
	public void test4(){
		String s="{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"CN\"},\"elementName\":\"realmCode\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"POCD_MT000040\",\"root\":\"2.16.840.1.113883.1.3\"},\"elementName\":\"typeId\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"root\":\"2.16.156.10011.2.1.1.30\"},\"elementName\":\"templateId\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${docInfo.docId!'文档流水号标识'}\",\"root\":\"2.16.156.10011.1.1\"},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"C0010\",\"codeSystem\":\"2.16.156.10011.2.4\",\"codeSystemName\":\"卫生信息共享文档规范编码体系\"},\"elementName\":\"code\"},{\"text\":\"麻醉术前访视记录\",\"childs\":[],\"attrs\":{},\"elementName\":\"title\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"value\":\"${docInfo.effectiveTime!'文档机器生成时间'}\"},\"elementName\":\"effectiveTime\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"N\",\"codeSystem\":\"2.16.840.1.113883.5.25\",\"codeSystemName\":\"Confidentiality\",\"displayName\":\"正常访问保密级别\"},\"elementName\":\"confidentialityCode\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"zh-CN\"},\"elementName\":\"languageCode\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"setId\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"versionNumber\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${preanesthesiaVisitRecord.门急诊号!'门急诊号'}\",\"root\":\"2.16.156.10011.1.11\"},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${preanesthesiaVisitRecord.住院号!'住院号'}\",\"root\":\"2.16.156.10011.1.12\"},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${preanesthesiaVisitRecord.电子申请单编号!'电子申请单编号'}\",\"root\":\"2.16.156.10011.1.24\"},\"elementName\":\"id\"},{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${patient.患者身份证件号码!'患者身份证件号码'}\",\"root\":\"2.16.156.10011.1.3\"},\"elementName\":\"id\"},{\"text\":\"${patient.患者姓名!'患者姓名'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"${patient.性别代码!'性别代码'}\",\"codeSystem\":\"2.16.156.10011.2.3.3.4\",\"codeSystemName\":\"生理性别代码表(GB/T 2261.1)\",\"displayName\":\"${patient.性别!'性别'}\"},\"elementName\":\"administrativeGenderCode\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"value\":\"${patient.出生日期!'出生日期'}\"},\"elementName\":\"birthTime\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"unit\":\"岁\",\"value\":\"${preanesthesiaVisitRecord.年龄岁!'年龄岁'}\"},\"elementName\":\"age\"}],\"attrs\":{\"classCode\":\"PSN\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"patient\"}],\"attrs\":{\"classCode\":\"PAT\"},\"elementName\":\"patientRole\"}],\"attrs\":{\"contextControlCode\":\"OP\",\"typeCode\":\"RCT\"},\"elementName\":\"recordTarget\"},{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"value\":\"${patient.建档日期时间!'建档日期时间'}\"},\"elementName\":\"time\"},{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${patient.建档者序号!'建档者唯一标识符'}\",\"root\":\"2.16.156.10011.1.7\"},\"elementName\":\"id\"},{\"childs\":[{\"text\":\"${patient.建档者姓名!'建档者姓名'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"}],\"attrs\":{},\"elementName\":\"assignedPerson\"}],\"attrs\":{\"classCode\":\"ASSIGNED\"},\"elementName\":\"assignedAuthor\"}],\"attrs\":{\"contextControlCode\":\"OP\",\"typeCode\":\"AUT\"},\"elementName\":\"author\"},{\"childs\":[{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${patient.建档医疗机构组织机构!'建档医疗机构组织机构'}\",\"root\":\"2.16.156.10011.1.5\"},\"elementName\":\"id\"},{\"text\":\"${orgName!'建档医疗机构组织机构名称'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"}],\"attrs\":{\"classCode\":\"ORG\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"representedCustodianOrganization\"}],\"attrs\":{\"classCode\":\"ASSIGNED\"},\"elementName\":\"assignedCustodian\"}],\"attrs\":{\"typeCode\":\"CST\"},\"elementName\":\"custodian\"},{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"time\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"signatureCode\"},{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"\",\"root\":\"2.16.156.10011.1.4\"},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"displayName\":\"麻醉医师\"},\"elementName\":\"code\"},{\"childs\":[{\"text\":\"${preanesthesiaVisitRecord.麻醉医师签名!'麻醉医师签名'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"}],\"attrs\":{\"classCode\":\"PSN\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"assignedPerson\"}],\"attrs\":{},\"elementName\":\"assignedEntity\"}],\"attrs\":{},\"elementName\":\"authenticator\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"setId\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"versionNumber\"}],\"attrs\":{},\"elementName\":\"parentDocument\"}],\"attrs\":{\"typeCode\":\"RPLC\"},\"elementName\":\"relatedDocument\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"effectiveTime\"},{\"childs\":[{\"childs\":[{\"childs\":[{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${preanesthesiaVisitRecord.病床号!'病床号'}\",\"root\":\"2.16.156.10011.1.22\"},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"${preanesthesiaVisitRecord.病房号!'病房号'}\",\"root\":\"2.16.156.10011.1.21\"},\"elementName\":\"id\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"\",\"root\":\"2.16.156.10011.1.26\"},\"elementName\":\"id\"},{\"text\":\"${preanesthesiaVisitRecord.科室名称!'科室名称'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"\",\"root\":\"2.16.156.10011.1.27\"},\"elementName\":\"id\"},{\"text\":\"${preanesthesiaVisitRecord.病区名称!'病区名称'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"extension\":\"\",\"root\":\"2.16.156.10011.1.5\"},\"elementName\":\"id\"},{\"text\":\"${orgName!'建档医疗机构组织机构名称'}\",\"childs\":[],\"attrs\":{},\"elementName\":\"name\"}],\"attrs\":{\"classCode\":\"ORG\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"wholeOrganization\"}],\"attrs\":{\"classCode\":\"PART\"},\"elementName\":\"asOrganizationPartOf\"}],\"attrs\":{\"classCode\":\"ORG\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"wholeOrganization\"}],\"attrs\":{\"classCode\":\"PART\"},\"elementName\":\"asOrganizationPartOf\"}],\"attrs\":{\"classCode\":\"ORG\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"wholeOrganization\"}],\"attrs\":{\"classCode\":\"PART\"},\"elementName\":\"asOrganizationPartOf\"}],\"attrs\":{\"classCode\":\"ORG\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"wholeOrganization\"}],\"attrs\":{\"classCode\":\"PART\"},\"elementName\":\"asOrganizationPartOf\"}],\"attrs\":{\"classCode\":\"ORG\",\"determinerCode\":\"INSTANCE\"},\"elementName\":\"wholeOrganization\"}],\"attrs\":{\"classCode\":\"PART\"},\"elementName\":\"asOrganizationPartOf\"}],\"attrs\":{},\"elementName\":\"serviceProviderOrganization\"}],\"attrs\":{},\"elementName\":\"healthCareFacility\"}],\"attrs\":{},\"elementName\":\"location\"}],\"attrs\":{},\"elementName\":\"encompassingEncounter\"}],\"attrs\":{},\"elementName\":\"componentOf\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"10219-4\",\"codeSystem\":\"2.16.840.1.113883.6.1\",\"codeSystemName\":\"LOINC\",\"displayName\":\"Surgical operation note preoperative Dx\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"text\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE05.01.024.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"术前诊断编码\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"${preanesthesiaVisitRecord.术前诊断编码!'术前诊断编码'}\",\"codeSystem\":\"2.16.156.10011.2.3.3.11.3\",\"codeSystemName\":\"诊断代码表(ICD-10)\",\"displayName\":\"${preanesthesiaVisitRecord.术前诊断名称!'术前诊断名称'}\",\"type\":\"CD\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE05.01.076.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"术前合并疾病\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.术前合并疾病!'术前合并疾病'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"}],\"attrs\":{},\"elementName\":\"section\"}],\"attrs\":{},\"elementName\":\"component\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"10164-2\",\"codeSystem\":\"2.16.840.1.113883.6.1\",\"codeSystemName\":\"LOINC\",\"displayName\":\"HISTORY OF PRESENT ILLNESS\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"text\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE05.10.140.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"简要病史\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.简要病史!'简要病史'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"}],\"attrs\":{},\"elementName\":\"section\"}],\"attrs\":{},\"elementName\":\"component\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"11348-0\",\"codeSystem\":\"2.16.840.1.113883.6.1\",\"codeSystemName\":\"LOINC\",\"displayName\":\"HISTORY OF PAST ILLNESS\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"text\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE02.10.022.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"过敏史\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.过敏史!'过敏史'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"}],\"attrs\":{},\"elementName\":\"section\"}],\"attrs\":{},\"elementName\":\"component\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"29545-1\",\"codeSystem\":\"2.16.840.1.113883.6.1\",\"codeSystemName\":\"LOINC\",\"displayName\":\"PHYSICAL EXAMINATION\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"text\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.188.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"体重\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"unit\":\"kg\",\"type\":\"PQ\",\"value\":\"${preanesthesiaVisitRecord.体重!'体重'}\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.219.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"一般状况检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.一般状况检查结果!'一般状况检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE05.10.142.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"精神状态正常标志\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"type\":\"BL\",\"value\":\"${preanesthesiaVisitRecord.精神状态正常标志!'精神状态正常标志'}\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.207.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"心脏听诊结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.心脏听诊结果!'心脏听诊结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.031.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"肺部听诊结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.肺部听诊结果!'肺部听诊结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.179.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"四肢检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.四肢检査结果!'四肢检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.093.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"脊柱检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.脊柱检查结果!'脊柱检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.046.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"腹部检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.术前诊断编码!'术前诊断编码'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE06.00.230.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"气管检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.气管检查结果!'气管检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.10.264.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"牙齿检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.牙齿检査结果!'牙齿检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"}],\"attrs\":{},\"elementName\":\"section\"}],\"attrs\":{},\"elementName\":\"component\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"30954-2\",\"codeSystem\":\"2.16.840.1.113883.6.1\",\"codeSystemName\":\"LOINC\",\"displayName\":\"STUDIES SUMMARY\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"text\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"statusCode\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.001.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"ABO血型代码\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"${preanesthesiaVisitRecord.ABO血型代码!'ABO血型代码'}\",\"codeSystem\":\"2.16.156.10011.2.3.1.85\",\"codeSystemName\":\"ABO血型代码表\",\"displayName\":\"${preanesthesiaVisitRecord.ABO血型!'ABO血型'}\",\"type\":\"CD\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"component\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.010.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"Rh(D)血型代码\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"${preanesthesiaVisitRecord.RH血型代码!'RH血型代码'}\",\"codeSystem\":\"2.16.156.10011.2.3.1.250\",\"codeSystemName\":\"Rh(D)血型代码表\",\"displayName\":\"${preanesthesiaVisitRecord.RH血型!'RH血型'}\",\"type\":\"CD\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"component\"}],\"attrs\":{\"classCode\":\"BATTERY\",\"moodCode\":\"EVN\"},\"elementName\":\"organizer\"}],\"attrs\":{\"typeCode\":\"COMP\"},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.30.043.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"心电图检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.心电图检査结果!'心电图检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.30.045.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"胸部X线检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.胸部X线检查结果!'胸部X线检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.30.005.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"CT检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.CT检査结果!'CT检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.30.002.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"B超检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.B超检查结果!'B超检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.30.009.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"MRI检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.MRI超检査结果!'MRI超检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.30.009.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"肺功能检査结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.肺功能检査结果!'肺功能检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.128.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"血常规检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.血常规检査结果!'血常规检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.048.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"尿常规检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.尿常规检査结果!'尿常规检査结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.142.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"凝血功能检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.凝血功能检查结果!'凝血功能检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.026.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"肝功能检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.肝功能检查结果!'肝功能检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE04.50.128.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"血气分析检查结果\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.血气分析检查结果!'血气分析检查结果'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"}],\"attrs\":{},\"elementName\":\"section\"}],\"attrs\":{},\"elementName\":\"component\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"18776-5\",\"codeSystem\":\"2.16.840.1.113883.6.1\",\"codeSystemName\":\"LOINC\",\"displayName\":\"TREATMENT PLAN\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{},\"elementName\":\"text\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE06.00.093.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"拟实施手术及操作编码\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"${preanesthesiaVisitRecord.拟实施手术及操作编码!'拟实施手术及操作编码'}\",\"codeSystem\":\"2.16.156.10011.2.3.3.12\",\"codeSystemName\":\"手术(操作)代码表(ICD-9-CM)\",\"displayName\":\"${preanesthesiaVisitRecord.拟实施手术及操作名称!'拟实施手术及操作名称'}\",\"type\":\"CD\"},\"elementName\":\"value\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE06.00.256.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"患者实施手术所在的手术室编号\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.手术间编号!'手术间编号'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{\"typeCode\":\"COMP\"},\"elementName\":\"entryRelationship\"}],\"attrs\":{\"classCode\":\"PROC\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE06.00.073.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"拟实施麻醉方法代码\"},\"elementName\":\"code\"},{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"${preanesthesiaVisitRecord.拟实施麻醉方法代码!'拟实施麻醉方法代码'}\",\"codeSystem\":\"2.16.156.10011.2.3.3.12\",\"codeSystemName\":\"麻醉方法代码表\",\"displayName\":\"${preanesthesiaVisitRecord.拟实施麻醉方法名称!'拟实施麻醉方法名称'}\",\"type\":\"CD\"},\"elementName\":\"value\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE06.00.287.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"术前麻醉医嘱\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.术前麻醉医嘱!'术前麻醉医嘱'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"INT\"},\"elementName\":\"observation\"}],\"attrs\":{\"typeCode\":\"COMP\"},\"elementName\":\"entryRelationship\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE06.00.227.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"麻醉适应症\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.麻醉适应证!'麻醉适应证'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"INT\"},\"elementName\":\"observation\"}],\"attrs\":{\"typeCode\":\"COMP\"},\"elementName\":\"entryRelationship\"},{\"childs\":[{\"childs\":[{\"text\":\"\",\"childs\":[],\"attrs\":{\"code\":\"DE09.00.119.00\",\"codeSystem\":\"2.16.156.10011.2.2.1\",\"codeSystemName\":\"卫生信息数据元目录\",\"displayName\":\"注意事项\"},\"elementName\":\"code\"},{\"text\":\"${preanesthesiaVisitRecord.注意事项!'注意事项'}\",\"childs\":[],\"attrs\":{\"type\":\"ST\"},\"elementName\":\"value\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{\"typeCode\":\"COMP\"},\"elementName\":\"entryRelationship\"}],\"attrs\":{\"classCode\":\"OBS\",\"moodCode\":\"EVN\"},\"elementName\":\"observation\"}],\"attrs\":{},\"elementName\":\"entry\"}],\"attrs\":{},\"elementName\":\"section\"}],\"attrs\":{},\"elementName\":\"component\"}],\"attrs\":\"\",\"elementName\":\"ClinicalDocument\"}";
		JSONObject jobj = JSON.parseObject(s);
		System.out.println(jobj);
	}
}
